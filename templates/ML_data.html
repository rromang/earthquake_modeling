<!DOCTYPE html>
<html>
<head>
  
</br>
</br>
<title>Earthquakes Data: Initial Data Exploration</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
<link href="../static/css/bootstrap-4.4.1.css" rel="stylesheet" type="text/css">
      </head>

<body>
<div class="container">
  <nav class="navbar navbar-expand-lg" id="navbar">
    <a class="navbar-brand" href="#"><img src="../static/images/logo.jpg" width="80" height="82" alt=""/></a>
 <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
   <span class="navbar-toggler-icon"></span>
   </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
       <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
             <a class="nav-link" href="https://portfolio-site-main.herokuapp.com/portfolio" id="home">HOME </a>
          </li>
          <li class="nav-item">
             <a class="nav-link" href="https://equake-api.herokuapp.com" id="earthquakes">Earthquakes API</a>
          </li>
    <li class="nav-item">
             <a class="nav-link" href="{{ url_for('viz2') }}" id="EDA">Initial<br>EDA </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('viz1') }}" id="SV-EDA">SweetViz<br>EDA</a>
         </li>
         <li class="nav-item">
            <a class="nav-link" href="{{ url_for('viz3') }}" id="ML">Machine<br>Learning <span class="sr-only">(current)</span></a>
         </li>
    <li class="nav-item">
             <a class="nav-link" href="https://www.linkedin.com/in/rosaicelarg" id="linkedin"><img src="../static/images/LI-In-Bug.png" width="64" height="55" alt="linkedin"/></a>
          </li>
    <li class="nav-item">
             <a class="nav-link" href="https://github.com/rromang" id="github"><img src="../static/images/GitHub-Mark-Light-32px.png" width="49" height="47" alt="github"/></a>
          </li>
       </ul>
    </div>
 </nav>
</div>
<br>
<!-- <div class="container">
<div class="container-fluid">
  <button type="button" class="btn btn-outline-primary"><a href="#descr-stats">Descriptive Stats</a></button>
  <button type="button" class="btn btn-outline-primary"><a href="#categorical">Categorical Data</a></button>
  <button type="button" class="btn btn-outline-primary"><a href="#graphs">Graphs</a></button>
  <hr>
</div>
</div> -->

</div>

<br>
<style>h3 {text-align: center;}
h4 {
  text-align: center;
}
div {
  display: table;
  margin-right: auto;
  margin-left: auto;
}
.column {
  float: left;
  width: 50%;
  padding: 10px;
  height: 300px; /* Should be removed. Only for demonstration */
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}
#ML-extratrees-descr {
  border-style: ridge;
  border-style: ridge;
  margin-top: 15px;
  margin-bottom: 15px;
}
#mag-graphs {
  border-style: ridge;
  margin-top: 15px;
  margin-bottom: 15px;

}
#magnotime-graphs {
  border-style: ridge;
  margin-top: 15px;
  margin-bottom: 15px;
}
#lat-graphs {
  border-style: ridge;
  margin-top: 15px;
  margin-bottom: 15px;
}
</style>

<br>
<div class="container">
<h3><strong>Machine Learning</strong></h3>
<hr>
<div class="row">
  <h4><i>Extra Trees Regressor Model</i></h4>
  <br>
  <p>This ensemble model was used for training a model to predict features from the USGS Earthquake data collected.</p>
  <br>
  <p>The features used for training the model were:</p>
  <ul>
    <li>Magnitude</li>
    <li>Latitude</li>
    <li>Longitude</li>
    <li>Depth</li>
    <li>Time (converted to Unix)</li>
  </ul>
  <br>
  <p>The model was run 9 times with the predicted feature alternatining as follows:</p>
</div>

<div class="row" id="ML-extratrees-descr">
  <div class="column" >
    <h6 class="mb-1"><em>Magnitude Prediction</em></h6>
      <ul>
      <li>Magnitude (y)</li>
      <li>Latitude (x)</li>
      <li>Longitude (x)</li>
      <li>Depth (x)</li>
      <li>Unix Time (x)</li>
    </ul>
    <h6 class="mb-1"><em>Latitude Prediction</em></h6>
    <ul>
    <li>Magnitude (x)</li>
    <li>Latitude (y)</li>
    <li>Longitude (x)</li>
    <li>Depth (x)</li>
    <li>Unix Time (x)</li>
  </ul>
  <h6 class="mb-1"><em>Longitude Prediction</em></h6>
    <ul>
    <li>Magnitude (x)</li>
    <li>Latitude (x)</li>
    <li>Longitude (y)</li>
    <li>Depth (x)</li>
    <li>Unix Time (x)</li>
  </ul>
  <h6 class="mb-1"><em>Depth Prediction</em></h6>
    <ul>
    <li>Magnitude (x)</li>
    <li>Latitude (x)</li>
    <li>Longitude (x)</li>
    <li>Depth (y)</li>
    <li>Unix Time (x)</li>
  </ul>
  <h6 class="mb-1"><em>Unix Time Prediction</em></h6>
  <ul>
  <li>Magnitude (x)</li>
  <li>Latitude (x)</li>
  <li>Longitude (x)</li>
  <li>Depth (x)</li>
  <li>Unix Time (y)</li>
</ul>
  </div>
  <div class="column">
    <h6 class="mb-1"><em>Magnitude Prediction - No Unix Time</em></h6>
      <ul>
      <li>Magnitude (y)</li>
      <li>Latitude (x)</li>
      <li>Longitude (x)</li>
      <li>Depth (x)</li>
    </ul>
    <h6 class="mb-1"><em>Latitude Prediction - No Unix Time</em></h6>
    <ul>
    <li>Magnitude (x)</li>
    <li>Latitude (y)</li>
    <li>Longitude (x)</li>
    <li>Depth (x)</li>
  </ul>
  <h6 class="mb-1"><em>Longitude Prediction - No Unix Time</em></h6>
  <ul>
  <li>Magnitude (x)</li>
  <li>Latitude (x)</li>
  <li>Longitude (y)</li>
  <li>Depth (x)</li>
</ul>
<h6 class="mb-1"><em>Depth Prediction - No Unix Time</em></h6>
<ul>
<li>Magnitude (x)</li>
<li>Latitude (x)</li>
<li>Longitude (x)</li>
<li>Depth (y)</li>
</ul>
  </div>
</div>
<hr>
</div>

<div class="row" id="etrees-graphs">
  <h4>Extra Trees Regressor Model Graphs</h4>
    <br>
    <div class="container" style="margin-bottom: 40px">
      <h4><em>Predicting Magnitude (Features: Latitude, Longitude, Depth and Unix Time)</em></h4>
        <div class="container" id="mag-graphs">
          <div class="row">
            <div class="container">
              <div class="column">
                <img src="static/images/extratrees_mag_linear_sns.png" width="600" height="400" alt="etrees-mag">
          
              </div>
              <div class="column">
                  <img src="static/images/extratrees_mag_linear_sns_daily.png" width="600" height="400" alt="etrees-mag-daily">
              </div>
              <p>The models will be run with larger datasets as time goes by to assess if they become better with a larger dataset.</p>
          </div>
          <div class="container">
            <div class="card">
              <div class="container">
                <table class="table table-hover" id="table-historical-model">
                <style>
                table, td, th {
                border: 1px solid black;
                }
                table {
                border-collapse: collapse;
                table-layout: auto;
                width: 180px;
                }
                </style>
            <h4>Historical Information About Model Performance</h4>
                  <thead>
                    <tr style="text-align: left;">
                      <th scope="col">Date</th>
                      <th scope="col">Count of Data Rows</th>
                      <th scope="col">RMSE</th>
                      <th scope="col">MAE</th>
                      <th scope="col">R-squared Actual vs Predicted Test Set</th>
                      <th scope="col">R-squared Actual vs Predicted Daily Set</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="table-info">
                      <td>2022-03-14</th>
                      <td>28335</td>
                      <td>0.478</td>
                      <td>0.348</td>
                      <td>0.861</td>
                      <td>0.835</td>
                    </tr>
                    <tr class="table-info">
                      <td>2022-03-17</th>
                      <td>33894</td>
                      <td>0.476</td>
                      <td>0.348</td>
                      <td>0.861</td>
                      <td>0.917</td>
                    </tr>
                    <tr class="table-info">
                      <td>2022-03-31</th>
                      <td>38680</td>
                      <td>0.483</td>
                      <td>0.352</td>
                      <td>0.862</td>
                      <td>0.895</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
    </div>
</div>
  <div class="container" style="margin-bottom: 40px">
    <h4><em>Predicting Magnitude (Features: Latitude, Longitude and Depth)</em></h4>
    <div class="container" id="magnotime-graphs">
      <div class="row">
        <div class="container">
          <div class="column">
            <img src="static/images/extratrees_magnotime_linear_sns.png" width="600" height="400" alt="etrees-mag-notime">
      
          </div>
          <div class="column">
              <img src="static/images/extratrees_magnotime_linear_sns_daily.png" width="600" height="400" alt="etrees-mag-notime-daily">
          </div>
          <p>The models will be run with larger datasets as time goes by to assess if they become better with a larger dataset.</p>
          <br>
          <p>This model does not take time into account as one of the features for training the model.</p>
        </div>
        <div class="container">
          <div class="card">
            <div class="container">
              <table class="table table-hover" id="table-historical-model">
                <style>
                table, td, th {
                  border: 1px solid black;
                }
                table {
                  border-collapse: collapse;
                  table-layout: auto;
                  width: 180px;
                }
                </style>
                <h4>Historical Information About Model Performance</h4>
                <thead>
                  <tr style="text-align: left;">
                    <th scope="col">Date</th>
                    <th scope="col">Count of Data Rows</th>
                    <th scope="col">RMSE</th>
                    <th scope="col">MAE</th>
                    <th scope="col">R-squared Actual vs Predicted Test Set</th>
                    <th scope="col">R-squared Actual vs Predicted Daily Set</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="table-info">
                    <td>2022-03-11</th>
                    <td>28329</td>
                    <td>0.495</td>
                    <td>--</td>
                    <td>0.851</td>
                    <td>0.823</td>
                  </tr>
                  <tr class="table-info">
                    <td>2022-03-17</th>
                    <td>33894</td>
                    <td>0.476</td>
                    <td>0.348</td>
                    <td>0.850</td>
                    <td>0.869</td>
                  </tr>
                  <tr class="table-info">
                    <td>2022-03-31</th>
                    <td>36380</td>
                    <td>0.500</td>
                    <td>0.365</td>
                    <td>0.852</td>
                    <td>0.899</td>
                  </tr>
                </tbody>
              </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- -----------------------Add new section of graphs and table -->
<div class="container" style="margin-bottom: 40px">
  <h4><em>Predicting Latitude (Features: Magnitude, Longitude, Depth and Unix Time)</em></h4>
    <div class="container" id="lat-graphs">
      <div class="row">
        <div class="container">
          <div class="column">
            <img src="static/images/extratrees_lat_linear_sns.png" width="600" height="400" alt="etrees-mag">
      
          </div>
          <div class="column">
              <img src="static/images/extratrees_lat_linear_sns_daily.png" width="600" height="400" alt="etrees-mag-daily">
          </div>
          <p>The models will be run with larger datasets as time goes by to assess if they become better with a larger dataset.</p>
      </div>
      <div class="container">
        <div class="card">
          <div class="container">
            <table class="table table-hover" id="table-historical-model">
            <style>
            table, td, th {
            border: 1px solid black;
            }
            table {
            border-collapse: collapse;
            table-layout: auto;
            width: 180px;
            }
            </style>
        <h4>Historical Information About Model Performance</h4>
              <thead>
                <tr style="text-align: left;">
                  <th scope="col">Date</th>
                  <th scope="col">Count of Data Rows</th>
                  <th scope="col">RMSE</th>
                  <th scope="col">MAE</th>
                  <th scope="col">R-squared Actual vs Predicted Test Set</th>
                  <th scope="col">R-squared Actual vs Predicted Daily Set</th>
                </tr>
              </thead>
              <tbody>
                <tr class="table-info">
                  <td>2022-03-3</th>
                  <td>28329</td>
                  <td>6.435</td>
                  <td>--</td>
                  <td>0.898</td>
                  <td>0.878</td>
                </tr>
                <tr class="table-info">
                  <td>2022-03-17</th>
                  <td>33888</td>
                  <td>6.546</td>
                  <td>1.93</td>
                  <td>0.896</td>
                  <td>0.963</td>
                </tr>
                <tr class="table-info">
                  <td>2022-04-</th>
                  <td>38680</td>
                  <td>6.672</td>
                  <td>1.970</td>
                  <td>0.894</td>
                  <td>0.963</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
</div>
</div>
<!-- -------End new section of graphs and table---- -->
<!-- -----------------------Add new section of graphs and table -->
<div class="container" style="margin-bottom: 40px">
  <h4><em>Predicting Latitude (Features: Magnitude, Longitude and Depth)</em></h4>
    <div class="container" id="lat-graphs">
      <div class="row">
        <div class="container">
          <div class="column">
            <img src="static/images/extratrees_latnotime_linear_sns.png" width="600" height="400" alt="etrees-mag">
      
          </div>
          <div class="column">
              <img src="static/images/extratrees_latnotime_linear_sns_daily.png" width="600" height="400" alt="etrees-mag-daily">
          </div>
          <p>The models will be run with larger datasets as time goes by to assess if they become better with a larger dataset.</p>
      </div>
      <div class="container">
        <div class="card">
          <div class="container">
            <table class="table table-hover" id="table-historical-model">
            <style>
            table, td, th {
            border: 1px solid black;
            }
            table {
            border-collapse: collapse;
            table-layout: auto;
            width: 180px;
            }
            </style>
        <h4>Historical Information About Model Performance</h4>
              <thead>
                <tr style="text-align: left;">
                  <th scope="col">Date</th>
                  <th scope="col">Count of Data Rows</th>
                  <th scope="col">RMSE</th>
                  <th scope="col">MAE</th>
                  <th scope="col">R-squared Actual vs Predicted Test Set</th>
                  <th scope="col">R-squared Actual vs Predicted Daily Set</th>
                </tr>
              </thead>
              <tbody>
                <tr class="table-info">
                  <td>2022-03-3</th>
                  <td>28329</td>
                  <td>6.734</td>
                  <td>--</td>
                  <td>0.888</td>
                  <td>0.812</td>
                </tr>
                <tr class="table-info">
                  <td>2022-03-18</th>
                  <td>33888</td>
                  <td>6.888</td>
                  <td>1.906</td>
                  <td>0.885</td>
                  <td>0.845</td>
                </tr>
                <tr class="table-info">
                  <td>2022-03-31</th>
                  <td>38680</td>
                  <td>7.058</td>
                  <td>1.961</td>
                  <td>0.882</td>
                  <td>0.957</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
</div>
</div>
<!-- -------End new section of graphs and table---- -->
<!-- -----------------------Add new section of graphs and table -->
<div class="container" style="margin-bottom: 40px">
  <h4><em>Predicting Longitude (Features: Magnitude, Longitude and Depth)</em></h4>
    <div class="container" id="lat-graphs">
      <div class="row">
        <div class="container">
          <div class="column">
            <img src="static/images/extratrees_lon_linear_sns.png" width="600" height="400" alt="etrees-mag">
      
          </div>
          <div class="column">
              <img src="static/images/extratrees_lon_linear_sns_daily.png" width="600" height="400" alt="etrees-mag-daily">
          </div>
          <p>The models will be run with larger datasets as time goes by to assess if they become better with a larger dataset.</p>
      </div>
      <div class="container">
        <div class="card">
          <div class="container">
            <table class="table table-hover" id="table-historical-model">
            <style>
            table, td, th {
            border: 1px solid black;
            }
            table {
            border-collapse: collapse;
            table-layout: auto;
            width: 180px;
            }
            </style>
        <h4>Historical Information About Model Performance</h4>
              <thead>
                <tr style="text-align: left;">
                  <th scope="col">Date</th>
                  <th scope="col">Count of Data Rows</th>
                  <th scope="col">RMSE</th>
                  <th scope="col">MAE</th>
                  <th scope="col">R-squared Actual vs Predicted Test Set</th>
                  <th scope="col">R-squared Actual vs Predicted Daily Set</th>
                </tr>
              </thead>
              <tbody>
                <tr class="table-info">
                  <td>2022-03-10</th>
                  <td>28329</td>
                  <td>29.808</td>
                  <td>--</td>
                  <td>0.830</td>
                  <td>0.718</td>
                </tr>
                <tr class="table-info">
                  <td>2022-03-18</th>
                  <td>33888</td>
                  <td>30.511</td>
                  <td>8.804</td>
                  <td>0.823</td>
                  <td>0.756</td>
                </tr>
                <tr class="table-info">
                  <td>2022-04</th>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
</div>
</div>
<!-- -------End new section of graphs and table---- -->
<br>
</div>
<!-- --------------- -->
<div class="container">
  <div class="row">
    <div class="container">
      <footer>
        <p>Updated Date/Time: <span id="datetime"></span></p><script>var dt = new Date();
        document.getElementById("datetime").innerHTML=dt.toLocaleString();</script> 
      </footer>
    </div>
  </div>
</div>

</body>
</html>